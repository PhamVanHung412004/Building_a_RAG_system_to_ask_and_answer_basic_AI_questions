Chá»§ Ä‘á»:
Xá»­ lÃ½ áº£nh (Computer vision) CÃ¡c ká»¹ 
thuáº­t trÃ­ch xuáº¥t Ä‘áº·t trÆ°ng 
Ná»™i dung chÃ­nh 
Giá»›i thiá»‡u
CÃ¡c phÆ°Æ¡ng phÃ¡p phÃ¡t hiá»‡n biÃªn
PhÃ¡t hiá»‡n Ä‘Æ°á»ng tháº³ng
Giá»›i thiá»‡u
â€¢ Má»™t sá»‘ á»©ng dá»¥ng:
â€¢ So sÃ¡nh khÃ¡c biá»‡t giá»¯a hai áº£nh
â€¢ PhÃ¡t hiá»‡n Ä‘á»‘i tÆ°á»£ng/object
â€¢ Theo bÃ¡m Ä‘á»‘i tÆ°á»£ng
â€¢ LÃ m khá»›p (stitching/panorama) vÃ  táº¡o áº£nh 3-D
Äiá»ƒm gÃ³c (Conner)
ğŸ¡º Robot navigation
â€¢ Vai trÃ² cá»§a cÃ¡c local features:
â€¢ CÃ´ Ä‘á»ng hÃ³a nguá»“n thÃ´ng tin tá»« áº£nh
â€¢ ÄÆ°a vÃ o mÃ´ hÃ¬nh Ä‘á»ƒ xá»­ lÃ½
Äiá»ƒm Ä‘áº·c trÆ°ng
 Máº­t Ä‘á»™ biÃªn
   Äiá»ƒm Ä‘áº·c trÆ°ng
ğŸ¡º So sÃ¡nh áº£nh
ğŸ¡º Äáº·c trÆ°ng Ä‘á»‘i tÆ°á»£ng   ğŸ¡º xoay/dá»‹ch chuyá»ƒn
Giá»›i thiá»‡u
â€¢ Vai trÃ² cá»§a cÃ¡c local features:
â€¢ KhÃ´ng chá»‰ Ä‘Æ°á»£c quan sÃ¡t/trÃ­ch chá»n khÃ´ng gian (spatial) 
vÃ  thá»i gian (temporal)
â€¢ á»¨ng dá»¥ng
â€¢ Nháº­n dáº¡ng hoáº¡t Ä‘á»™ng, tÆ°Æ¡ng tÃ¡c ngÆ°á»i - mÃ¡y (HCI)
â€¢ Theo bÃ¡m Ä‘á»‘i tÆ°á»£ng
â€¢ Thá»±c táº¡i áº£o (virtual reality)
Má»™t sá»‘ á»©ng dá»¥ng
â€¢Automatic Panorama
Má»™t sá»‘ á»©ng dá»¥ng
â—
Nháº­n diá»‡n cÃ¡c váº­t thá»ƒ giá»‘ng nhau
Giá»›i thiá»‡u vá» trÃ­ch xuáº¥t biÃªn
â€¢
Äiá»ƒm biÃªn: Má»™t Ä‘iá»ƒm áº£nh Ä‘Æ°á»£c coi lÃ  Ä‘iá»ƒm biÃªn náº¿u cÃ³ sá»± thay Ä‘á»•i 
nhanh hoáº·c Ä‘á»™t ngá»™t vá» má»©c xÃ¡m (hoáº·c mÃ u).
â€¢
VÃ­ dá»¥, trong áº£nh nhá»‹ phÃ¢n, Ä‘iá»ƒm Ä‘en Ä‘Æ°á»£c gá»i lÃ  Ä‘iá»ƒm biÃªn náº¿u lÃ¢n 
cáº­n cá»§a nÃ³ cÃ³ Ã­t nháº¥t má»™t Ä‘iá»ƒm tráº¯ng.
â€¢
ÄÆ°á»ng biÃªn cÃ²n gá»i lÃ  Ä‘Æ°á»ng bao (boundary): LÃ  táº­p há»£p cÃ¡c 
Ä‘iá»ƒm biÃªn liÃªn tiáº¿p.
â€¢
Ã nghÄ©a cá»§a Ä‘Æ°á»ng biÃªn
â€¢
ÄÆ°á»ng biÃªn lÃ  má»™t loáº¡i Ä‘áº·c trÆ°ng cá»¥c bá»™ tiÃªu biá»ƒu trong phÃ¢n 
tÃ­ch, nháº­n dáº¡ng áº£nh.
â€¢
NgÆ°á»i ta sá»­ dá»¥ng biÃªn lÃ m phÃ¢n cÃ¡ch cÃ¡c vÃ¹ng xÃ¡m (hoáº·c 
mÃ u) cÃ¡ch biá»‡t. NgÆ°á»£c láº¡i, ngÆ°á»i ta cÅ©ng sá»­ dá»¥ng cÃ¡c vÃ¹ng áº£nh 
Ä‘á»ƒ tÃ¬m phÃ¢n cÃ¡ch.
â€¢
CÃ¡c phÆ°Æ¡ng phÃ¡p tÃ¬m biÃªn
â€¢
CÃ¡c phÆ°Æ¡ng phÃ¡p phÃ¡t hiá»‡n biÃªn trá»±c tiáº¿p
â€¢
PhÃ¡t hiá»‡n biÃªn giÃ¡n tiáº¿p
KhÃ³ khÄƒn cá»§a bÃ i toÃ¡n phÃ¡t hiá»‡n biÃªn
KhÃ³ khÄƒn cá»§a bÃ i toÃ¡n phÃ¡t hiá»‡n biÃªn
â—†Má»™t cÃ¡ch lÃ½ tÆ°á»Ÿng (áº£nh Ä‘en tráº¯ng) thÃ¬ Ä‘á»“ thá»‹ sá»± biáº¿n 
thiÃªn má»©c xÃ¡m cá»§a cÃ¡c Ä‘iá»ƒm áº£nh khi qua biÃªn nhÆ° 
sau:
â—†Äá»‘i vá»›i cÃ¡c áº£nh Ä‘a má»©c xÃ¡m thÃ¬ Ä‘á»“ thá»‹ cÃ³ dáº¡ng
PhÃ¡t hiá»‡n biÃªn trá»±c tiáº¿p
â—†PhÆ°Æ¡ng phÃ¡p nÃ y chá»§ yáº¿u dá»±a vÃ o sá»± biáº¿n thiÃªn Ä‘á»™ sÃ¡ng cá»§a Ä‘iá»ƒm 
áº£nh Ä‘á»ƒ lÃ m ná»•i biÃªn báº±ng ká»¹ thuáº­t Ä‘áº¡o hÃ m. 
â—Náº¿u láº¥y Ä‘áº¡o hÃ m báº­c nháº¥t cá»§a f(x,y) ta cÃ³ phÆ°Æ¡ng phÃ¡p Gradient
â—Náº¿u láº¥y Ä‘áº¡o hÃ m báº­c hai cá»§a f(x,y) ta cÃ³ phÆ°Æ¡ng phÃ¡p Laplace 
â—†3 ká»¹ thuáº­t tiÃªu biá»ƒu:
â—Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Gradient
â—Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Laplace
â—Ká»¹ thuáº­t Canny
PhÃ¡t hiá»‡n biÃªn trá»±c tiáº¿p - Ká»¹ thuáº­t gradient
â—†Gradient lÃ  má»™t vectÆ¡ cÃ³ cÃ¡c thÃ nh pháº§n biá»ƒu thá»‹ tá»‘c Ä‘á»™ thay 
Ä‘á»•i má»©c xÃ¡m cá»§a Ä‘iá»ƒm áº£nh (theo hai hÆ°á»›ng x,y Ä‘á»‘i vá»›i áº£nh 
2 chiá»u) tá»©c lÃ : 
â—†Äá»™ máº¡nh (rÃµ nÃ©t) cá»§a má»™t cáº¡nh thÆ°á»ng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh 
báº±ng Ä‘á»™ lá»›n cá»§a dá»‘c
Minh há»a káº¿t quáº£ phÃ©p láº¥y Ä‘áº¡o hÃ m
â—†
â—†
TÃ­n hiá»‡u gá»‘c
Káº¿t quáº£ tÃ­nh Ä‘áº¡o hÃ m
Ká»¹ thuáº­t gradient - phÃ©p tÃ­nh láº¥y Ä‘áº¡o hÃ m trong áº£nh
â—†Vá»›i biÃªn Ä‘á»™ G(m,n) táº¡i Ä‘iá»ƒm (m,n) Ä‘Æ°á»£c tÃ­nh: 
â—†Äá»ƒ giáº£m Ä‘á»™ phá»©c táº¡p tÃ­nh toÃ¡n, G(m,n) Ä‘Æ°á»£c tÃ­nh gáº§n 
Ä‘Ãºng nhÆ° sau: 
â—†Má»™t sá»‘ toÃ¡n tá»­ Gradient tiÃªu biá»ƒu nhÆ° toÃ¡n tá»­ Prewitt, 
Sobel, Robert Ä‘áº³ng hÆ°á»›ng (Isometric), 
Ká»¹ thuáº­t gradient - káº¿t quáº£ tÃ­nh Ä‘áº¡o hÃ m
Ká»¹ thuáº­t gradient - káº¿t quáº£ tÃ­nh Ä‘áº¡o hÃ m
Ká»¹ thuáº­t gradient - káº¿t quáº£ tÃ­nh Ä‘áº¡o hÃ m
Ká»¹ thuáº­t gradient - Bá»™ lá»c Prewitt
â—†Ká»¹ thuáº­t nÃ y sá»­ dá»¥ng 2 bá»™ lá»c nháº­p cháº­p xáº¥p xá»‰ 
Ä‘áº¡o hÃ m theo 2 hÆ°á»›ng x  vÃ  y lÃ :
â—†BÆ°á»›c 1: TÃ­nh I âŠ— Hx vÃ  I âŠ— Hy 
â—†BÆ°á»›c 2: TÃ­nh (I âŠ— Hx + I âŠ— Hy)
Ká»¹ thuáº­t gradient - Bá»™ lá»c Prewitt - vÃ­ dá»¥
áº¢nh gá»‘c
Cá»­a sá»• Prewitt
Ká»¹ thuáº­t gradient - Bá»™ lá»c Prewitt - vÃ­ dá»¥
Ká»¹ thuáº­t gradient - Bá»™ lá»c Sobel
â—†TÆ°Æ¡ng tá»± nhÆ° ká»¹ thuáº­t Prewitt, nhÆ°ng ká»¹ thuáº­t Sobel 
sá»­ dá»¥ng 2 máº·t náº¡ nhÃ¢n cháº­p theo 2 hÆ°á»›ng x, y lÃ :
â—†NgoÃ i ra Ä‘á»ƒ phÃ¡t hiá»‡n biÃªn theo Ä‘Æ°á»ng chÃ©o ta sá»­ 
dá»¥ng 2 máº·t náº¡:
Ká»¹ thuáº­t gradient - La bÃ n
Ká»¹ thuáº­t sá»­ dá»¥ng 8 bá»™ lá»c theo 8 hÆ°á»›ng chÃ­nh trÃªn la bÃ n 0o, 45o, 90o, 
135o, 180o, 225o, 270o, 315o
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Laplace
â—CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ gradient á»Ÿ trÃªn lÃ m viá»‡c khÃ¡ tá»‘t 
khi mÃ  Ä‘á»™ sÃ¡ng thay Ä‘á»•i rÃµ nÃ©t.
â—Khi má»©c xÃ¡m thay Ä‘á»•i cháº­m, miá»n chuyá»ƒn tiáº¿p tráº£i rá»™ng, lÃ  
phÆ°Æ¡ng phÃ¡p cho hiá»‡u quáº£ hÆ¡n lÃ  sá»­ dá»¥ng Ä‘áº¡o hÃ m báº­c hai 
Laplace.
â—ToÃ¡n tá»­ Laplace Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° sau:
â—Khai triá»ƒn toÃ¡n tá»­ rá»“i Ã¡p dá»¥ng xáº¥p xá»‰ rá»i ráº¡c
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Laplace
TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c sá»­ dá»¥ng ma tráº­n
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Laplace
â—
Thá»±c táº¿ ngÆ°á»i ta cÃ³ thá»ƒ sá»­ dá»¥ng má»™t sá»‘ ma tráº­n biáº¿n thá»ƒ Ä‘á»ƒ xáº¥p xá»‰ 
rá»i ráº¡c Ä‘áº¡o hÃ m báº­c 2
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Laplace
â—
Do toÃ¡n tá»­ Laplace lÃ  toÃ¡n tá»­ Ä‘áº¡o hÃ m nÃªn nÃ³ lÃ m ná»•i báº­t cÃ¡c 
vÃ¹ng khÃ´ng liÃªn tá»¥c cá»§a cáº¥p xÃ¡m, Ä‘á»“ng thá»i lÃ m yáº¿u Ä‘i cÃ¡c vÃ¹ng 
pháº³ng.
â—
Äiá»u nÃ y dáº«n Ä‘áº¿n áº£nh káº¿t quáº£ sau khi Ã¡p dá»¥ng toÃ¡n tá»­ Laplace sáº½ 
khÃ´ng giá»¯ láº¡i Ä‘Æ°á»£c cÃ¡c chi tiáº¿t ban Ä‘áº§u cá»§a áº£nh.
â—
Do Ä‘Ã³, Ä‘á»ƒ khÃ´i phá»¥c cÃ¡c chá»‰ tiáº¿t cá»§a áº£nh gá»‘c, ngÆ°á»i ta thÆ°á»ng 
cá»™ng áº£nh káº¿t quáº£ vá»›i áº£nh gá»‘c Ä‘á»ƒ cho ra áº£nh rÃµ nÃ©t (lÃ  áº£nh váº«n giá»¯ 
nguyÃªn nhá»¯ng chi tiáº¿t ban Ä‘áº§u nhÆ°ng cÃ¡c cáº¡nh Ä‘Æ°á»£c lÃ m ná»•i báº­t 
lÃªn).
â—
Náº¿u toÃ¡n tá»­ Laplace cÃ³ há»‡ sá»‘ tÃ¢m lÃ  Ã¢m thÃ¬ chÃºng ta sáº½ láº¥y áº£nh 
gá»‘c trá»« Ä‘i áº£nh káº¿t quáº£ sau khi Ã¡p dá»¥ng toÃ¡n tá»­ Laplace thay vÃ¬ 
cá»™ng.
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Canny
â—
ÄÃ¢y lÃ  ká»¹ thuáº­t cá»• Ä‘iá»ƒn nhÆ°ng Ä‘áº¿n nay váº«n ráº¥t hiá»‡u quáº£ vÃ  Ä‘Æ°á»£c 
sá»­ dá»¥ng rá»™ng rÃ£i
â—
CÃ³ kháº£ nÄƒng Ä‘Æ°a ra Ä‘Æ°á»ng biÃªn máº£nh vÃ  phÃ¡t hiá»‡n chÃ­nh xÃ¡c vá»›i 
áº£nh cÃ³ nhiá»…u
â—
Sau khi Ã¡p dá»¥ng, áº£nh cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ£ hoÃ¡ thÃ nh cÃ¡c Ä‘Æ°á»ng cong 
vá»›i cÃ´ng thá»©c toÃ¡n há»c
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Canny
â—
BÆ°á»›c 1: LÃ m trÆ¡n áº£nh (ma tráº­n Ä‘áº§u vÃ o Gaussian): GiÃºp loáº¡i bá» 
bá»›t nhiá»…u Ä‘áº§u vÃ o
â—
BÆ°á»›c 2: TÃ­nh gradient báº±ng ma tráº­n 
Prewitt
GX = Bâ›’HX
Gy = Bâ›’Hy
â—‹
CÃ³ thá»ƒ dÃ¹ng cÃ¡c phÃ©p phÃ¡t hiá»‡n báº­c 
má»™t khÃ¡c (gradient Ä‘Æ¡n giáº£n, 
Sobel..)
â—‹
Káº¿t quáº£ lÃ  2 áº£nh gradient theo hai 
hÆ°á»›ng x vÃ  y
â—
BÆ°á»›c 3: TÃ­nh gradient hÆ°á»›ng táº¡i má»—i Ä‘iá»ƒm (i, j)
â—‹
HÆ°á»›ng sáº½ Ä‘Æ°á»£c â€œnguyÃªn hoÃ¡" Ä‘á»ƒ náº±m trong 8 hÆ°á»›ng [0â€¦7]
â—‹
TÆ°Æ¡ng Ä‘Æ°Æ¡ng 8 Ä‘iá»ƒm lÃ¢n cáº­n cá»§a 1 Ä‘iá»ƒm áº£nh
â—
BÆ°á»›c 4: Loáº¡i bá» nhá»¯ng Ä‘iá»ƒm khÃ´ng pháº£i lÃ  cá»±c Ä‘áº¡i
Ä‘á»ƒ xÃ³a bá» nhá»¯ng Ä‘iá»ƒm khÃ´ng pháº£i lÃ  biÃªn (tá»©c loáº¡i 
bá» 1 sá»‘ cáº¡nh dÆ° thá»«a)
â—
XÃ©t (i, j), 0 lÃ  gradient hÆ°á»›ng táº¡i (i, j), G1, G2 lÃ  hai Ä‘iá»ƒm lÃ¢n cáº­n 
theo hÆ°á»›ng Î¸. 
â—
Náº¿u G(i,j) > G1, vÃ  G(i,j) > G2 thÃ¬ má»›ii giÅ© láº¡i (i,j) ((i,j) lÃ  cá»±c Ä‘áº¡i Ä‘á»‹a 
phÆ°Æ¡ng) 
â—
NgÆ°á»£c láº¡i thÃ¬ xÃ³a (i,j) vÃ¬ (i,j) lÃ  Ä‘iá»ƒm ná»n
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Canny
BÆ°á»›c 5: PhÃ¢n ngÆ°á»¡ng Ä‘á»ƒ tÃ¬m biÃªn
â—
Äiá»ƒm cÃ³ gradient lá»›n hÆ¡n thÆ°á»ng cÃ³ kháº£ nÄƒng lÃ  biÃªn cao hÆ¡n 
Ä‘iá»ƒm cÃ³ gradient nhá» hÆ¡n
â—
Viá»‡c chá»n ngÆ°á»¡ng Ä‘á»ƒ phÃ¢n loáº¡i lÃ  ráº¥t khÃ³.
â—
Canny sá»­ dá»¥ng phÃ¢n ngÆ°á»¡ng vá»›i Ä‘á»™ trá»…
â—
CÃ³ hai ngÆ°á»¡ng cao vÃ  tháº¥p
â—
Giáº£ Ä‘á»‹nh lÃ  biÃªn quan trá»ng thÆ°á»ng náº±m trong nhá»¯ng Ä‘Æ°á»ng liÃªn 
tá»¥c trong bá»©c áº£nh.
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Canny
â—
Náº¿u I(x,y) > ngÆ°á»¡ng cao thÃ¬ giá»¯ láº¡i Ä‘iá»ƒm biÃªn nÃ y
â—
Náº¿u I(x,y) < ngÆ°á»¡ng tháº¥p thÃ¬ loáº¡i bá» Ä‘iá»ƒm nÃ y.
â—
Náº¿u ngÆ°á»¡ng tháº¥p < I(x,y) < ngÆ°á»¡ng cao thÃ¬ so sÃ¡nh I(x,y) vá»›i giÃ¡ 
trá»‹ cá»§a 8 Ä‘iá»ƒm lÃ¢n cáº­n. Neu 1 trong 8 Ä‘iá»ƒm lÃ¢n cáº­n > ngÆ°á»¡ng cao 
thÃ¬ ta giá»¯ láº¡i Ä‘iá»ƒm biÃªn nÃ y. NgÆ°á»£c láº¡i thÃ¬ bá» Ä‘iá»ƒm biÃªn nÃ y.
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Canny
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn Canny
â—
LÃ  phÆ°Æ¡ng phÃ¡p lá»c phÃ¡t hiá»‡n biÃªn dá»±a vÃ o trung bÃ¬nh cá»¥c bá»™
â—
XÃ¡c Ä‘á»‹nh biÃªn khÃ´ng theo sá»± biáº¿n Ä‘á»•i mÃ  dá»±a vÃ o trung bÃ¬nh giÃ¡ trá»‹ 
cÃ¡c Ä‘iá»ƒm lÃ¢n cáº­n
â—
Vá»›i cá»­a sá»• mxn vá»›i tÃ¢m lÃ  (i,J) thÃ¬ náº¿u
â†’ Ä‘iá»ƒm áº£nh l(i,j) sáº½ lÃ  Ä‘iá»ƒm biÃªn vÃ  ngÆ°á»£c láº¡i sáº½ lÃ  Ä‘iá»ƒm ná»n
Ká»¹ thuáº­t phÃ¡t hiá»‡n biÃªn cá»¥c bá»™
Ãp dá»¥ng bá»™ lá»c cho cÃ¡c áº£nh
CÃ¡c phÆ°Æ¡ng phÃ¡p phÃ¡t hiá»‡n biÃªn giÃ¡n tiáº¿p
â—†PhÃ¢n vÃ¹ng áº£nh dá»±a vÃ o phÃ©p xá»­ lÃ½ káº¿t cáº¥u Ä‘á»‘i tÆ°á»£ng, 
cá»¥ thá»ƒ lÃ  dá»±a vÃ o sá»± biáº¿n thiÃªn nhá» vÃ  Ä‘á»“ng Ä‘á»u cá»§a 
cÃ¡c Ä‘iá»ƒm áº£nh thuá»™c má»™t Ä‘á»‘i tÆ°á»£ng. 
â—†Dá»±a trÃªn cÃ¡c vÃ¹ng, Ä‘Ã²i há»i Ã¡p dá»¥ng lÃ½ thuyáº¿t vá» xá»­ lÃ½ 
káº¿t cáº¥u Ä‘á»‘i tÆ°á»£ng phá»©c táº¡p vÃ  khÃ³ cÃ i Ä‘áº·t. 
â€¢ Vá»›i Ä‘iá»ƒm P thÃ¬ 
â€¢ CÃ¡c Ä‘iá»ƒm P0, P2, P4, P6 (trÃªn, dÆ°á»›i, pháº£i, trÃ¡i) lÃ  cÃ¡c 
4-lÃ¡ng giá»ng cá»§a Ä‘iá»ƒm P
â€¢ CÃ¡c Ä‘iá»ƒm P0, P1, P2, P3, P4, P5, P6, P7 (cÃ¡c Ä‘iá»ƒm á»Ÿ cáº£ 8 
hÆ°á»›ng) lÃ  cÃ¡c 8-lÃ¡ng giá»ng cá»§a P.
â€¢
CÃ¡c Ä‘iá»ƒm 4 vÃ  8-lÃ¡ng giá»ng 
39
Chu tuyáº¿n cá»§a má»™t Ä‘á»‘i tÆ°á»£ng áº£nh
â—†Chu tuyáº¿n cá»§a má»™t Ä‘á»‘i tÆ°á»£ng áº£nh lÃ  dÃ£y cÃ¡c Ä‘iá»ƒm 
cá»§a Ä‘á»‘i tÆ°á»£ng áº£nh P1,â€¦,Pn sao cho 
â—Pi vÃ  Pi+1 lÃ  cÃ¡c 8-lÃ¡ng giá»ng cá»§a nhau (i=1,...,n-1) 
â—P1 lÃ  8-lÃ¡ng giá»ng cá»§a Pn, 
â—âˆ€i âˆƒQ khÃ´ng thuá»™c Ä‘á»‘i tÆ°á»£ng áº£nh vÃ  Q lÃ  4-lÃ¡ng giá»ng 
cá»§a Pi (hay nÃ³i cÃ¡ch khÃ¡c âˆ€i thÃ¬ Pi lÃ  biÃªn 4). KÃ­ hiá»‡u 
<P1P2..Pn>
HÃ¬nh bÃªn biá»ƒu diá»…n chu tuyáº¿n 
cá»§a áº£nh, trong Ä‘Ã³, P lÃ  Ä‘iá»ƒm 
khá»Ÿi Ä‘áº§u chu tuyáº¿n. 
40
KhÃ¡i niá»‡m Ä‘Æ°á»ng bao trong áº£nh
ÄÆ°á»ng bao ngoÃ i
ÄÆ°á»ng bao trong
CÃ¡c thuáº­t toÃ¡n dÃ² biÃªn trÃªn má»™t vÃ¹ng  Ä‘á»u bao gá»“m cÃ¡c  bÆ°á»›c sau: 
(1) XÃ¡c Ä‘á»‹nh Ä‘iá»ƒm biÃªn xuáº¥t phÃ¡t 
(2) Dá»± bÃ¡o vÃ  xÃ¡c Ä‘á»‹nh Ä‘iá»ƒm biÃªn tiáº¿p theo 
(3) Láº·p bÆ°á»›c 2 cho Ä‘áº¿n khi gáº·p Ä‘iá»ƒm xuáº¥t phÃ¡t 
41
Thuáº­t toÃ¡n dÃ² biÃªn tá»•ng quÃ¡t 
â—†BÆ°á»›c 1: XÃ¡c Ä‘á»‹nh cáº·p ná»n-vÃ¹ng (Ä‘en-tráº¯ng) xuáº¥t phÃ¡t: 
Duyá»‡t áº£nh láº§n lÆ°á»£t tá»« trÃªn xuá»‘ng dÆ°á»›i vÃ  tá»« trÃ¡i sang pháº£i 
Ä‘iá»ƒm Ä‘em Ä‘áº§u tiÃªn gáº·p Ä‘Æ°á»£c cÃ¹ng vá»›i Ä‘iá»ƒm tráº¯ng trÆ°á»›c 
Ä‘Ã³ (theo hÆ°á»›ng 4) Ä‘á»ƒ táº¡o nÃªn cáº·p ná»n vÃ¹ng xuáº¥t phÃ¡t
â—†BÆ°á»›c 2: XÃ¡c Ä‘á»‹nh cáº·p ná»n-vÃ¹ng tiáº¿p theo 
â—†BÆ°á»›c 3: Lá»±a chá»n Ä‘iá»ƒm biÃªn vÃ¹ng 
â—†BÆ°á»›c 4: Náº¿u gáº·p láº¡i cáº·p xuáº¥t phÃ¡t thÃ¬ dá»«ng, náº¿u khÃ´ng 
quay láº¡i  bÆ°á»›c 2.
42
3. PhÃ¢n tÃ­ch Ä‘áº·c Ä‘iá»ƒm hÃ¬nh dáº¡ng dá»±a trÃªn biÃªn
â—†Giáº£ sá»­ cÃ¡c Ä‘iá»ƒm biÃªn  Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t hiá»‡n 
â—†ÄÆ°á»ng biÃªn phÃ¢n tÃ¡ch Ä‘á»‘i tÆ°á»£ng (khá»i ná»n) Ä‘Æ°á»£c 
hÃ¬nh thÃ nh trÃªn cÆ¡ sá»Ÿ liÃªn káº¿t cÃ¡c Ä‘iá»ƒm biÃªn (edge 
Linking). Má»™t sá»‘ thuáº­t toÃ¡n :
â—ThÃ´ng qua xá»­ lÃ½ cá»¥c bá»™
â—Xá»­ lÃ½ á»Ÿ má»©c vÃ¹ng
â—Xá»­ lÃ½ toÃ n cá»¥c
â—† TrÃ­ch chá»n cÃ¡c Ä‘áº·c trÆ°ng trÃªn Ä‘Æ°á»ng biÃªn (bao) ğŸ¡º 
phÃ¢n tÃ­ch Ä‘áº·c Ä‘iá»ƒm hÃ¬nh khá»‘i cá»§a Ä‘á»‘i tÆ°á»£ng
43
ThÃ´ng qua xá»­ lÃ½ cá»¥c bá»™
â—†Giáº£ sá»­ cÃ¡c Ä‘iá»ƒm biÃªn Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t hiá»‡n
â—†PhÃ¢n tÃ­ch Ä‘áº·c Ä‘iá»ƒm cá»§a Ä‘iá»ƒm biÃªn vÃ  cÃ¡c Ä‘iá»ƒm lÃ¢n 
cáº­n
â—†CÃ¡c Ä‘iá»ƒm cÃ³ Ä‘á»™ giá»‘ng 
nhau cao (dá»±a trÃªn 
biÃªn Ä‘á»™ vÃ  hÆ°á»›ng cá»§a
gradient) ğŸ¡º liÃªn káº¿t vá»›i 
nhau
44
ThÃ´ng qua xá»­ lÃ½ á»Ÿ má»©c vÃ¹ng
45
46
ThÃ´ng qua xá»­ lÃ½ toÃ n cá»¥c
â—†Giáº£ sá»­ Ä‘Ã£ cÃ³ káº¿t quáº£ phÃ¡t hiá»‡n biÃªn (lÃ  cÃ¡c pixel rá»i ráº¡c)
â—†Biáº¿t Ä‘Æ°á»£c phÆ°Æ¡ng trÃ¬nh hÃ¬nh há»c cá»§a Ä‘á»‘i tÆ°á»£ng cáº§n tÃ¬m (Ä‘Æ°á»ng 
tháº³ng, Ä‘Æ°á»ng trÃ²n, Ä‘Æ°á»ng ellipise)
â—†Thá»±c hiá»‡n cÃ¡c thuáº­t toÃ¡n fitting model (lÃ m khá»›p)
â—Hough transform
â—RANSAC
47
Thuáº­t toÃ¡n Hough transform
â—
Má»‘i quan há»‡ giá»¯a khÃ´ng gian áº£nh (x, y) vÃ  khÃ´ng gian Hough (m, b)
â—‹
Má»™t Ä‘Æ°á»ng tháº³ng trong áº£nh tÆ°Æ¡ng á»©ng vá»›i má»™t Ä‘iá»ƒm trong khÃ´ng 
gian Hough
â—‹
Äá»ƒ chuyá»ƒn tá»« khÃ´ng gian áº£nh sang khÃ´ng gian Hough:
â– 
cho má»™t táº­p há»£p cÃ¡c Ä‘iá»ƒm (x, y), tÃ¬m táº¥t cáº£ cÃ¡c (m, b) sao cho 
y = mx + b.
48
Thuáº­t toÃ¡n Hough transform
â—
Má»‘i liÃªn káº¿t giá»¯a khÃ´ng gian áº£nh (x, y) vÃ  khÃ´ng gian Hough (m, b)
â—‹
Má»™t Ä‘Æ°á»ng tháº³ng trong áº£nh tÆ°Æ¡ng á»©ng vá»›i má»™t Ä‘iá»ƒm trong 
khÃ´ng gian Hough 
â—‹
Äá»ƒ chuyá»ƒn tá»« khÃ´ng gian áº£nh sang khÃ´ng gian Hough: 
â– 
 cho má»™t táº­p há»£p cÃ¡c Ä‘iá»ƒm (x, y), tÃ¬m táº¥t cáº£ cÃ¡c (m, b) sao 
cho y = mx + b
â—‹
Má»™t Ä‘iá»ƒm (X, Yo) trong khÃ´ng gian áº£nh Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ o Ä‘Ã¢u?
â– 
A: cÃ¡c nghiá»‡m cá»§a phÆ°Æ¡ng trÃ¬nh b = -Xom + Yo
â– 
Ä‘Ã¢y lÃ  má»™t Ä‘Æ°á»ng trong khÃ´ng gian Hough
49
Thuáº­t toÃ¡n Hough transform
TÃ¬m Ä‘Æ°á»ng tháº³ng tá»‘t nháº¥t qua 1 táº­p há»£p cÃ¡c Ä‘iá»ƒm
50
51
Váº¥n Ä‘á»: cÃ¡c tham sá»‘ [m, b] khÃ´ng bá»‹ giá»›i háº¡n
â†’ Äá»•i sang há»‡ toáº¡ Ä‘á»™ cá»±c
52
Thuáº­t toÃ¡n Hough transform
Váº¥n Ä‘á» vá» nhiá»…u trong táº­p há»£p Ä‘iá»ƒm
53
VÃ­ dá»¥ minh há»a
54
Nháº­n xÃ©t vá» Hough Transform
Lá»£i:
â—
á»”n Ä‘á»‹nh vá»›i cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai: Biáº¿n Ä‘á»•i Hough lÃ  á»•n Ä‘á»‹nh vá»›i cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai 
vÃ¬ má»—i Ä‘iá»ƒm báº§u chá»n Ä‘á»™c láº­p, vÃ  Ä‘Ã³ng gÃ³p cá»§a cÃ¡c Ä‘iá»ƒm riÃªng láº» cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t 
há»£p Ä‘á»ƒ tÃ¬m ra nhá»¯ng Ä‘Æ°á»ng tháº³ng hoáº·c hÃ¬nh dáº¡ng phÃ¹ há»£p nháº¥t.
â—
KhÃ¡ hiá»‡u quáº£: Biáº¿n Ä‘á»•i Hough thÆ°á»ng nhanh hÆ¡n so vá»›i viá»‡c thá»­ táº¥t cáº£ cÃ¡c bá»™ 
tham sá»‘, lÃ m cho nÃ³ lÃ  má»™t phÆ°Æ¡ng phÃ¡p hiá»‡u quáº£ Ä‘á»ƒ phÃ¡t hiá»‡n Ä‘Æ°á»ng vÃ  hÃ¬nh 
dáº¡ng trong hÃ¬nh áº£nh.
Báº¥t lá»£i:
â—
Nháº¡y cáº£m vá»›i nhiá»…u: Biáº¿n Ä‘á»•i Hough cÃ³ thá»ƒ nháº¡y cáº£m vá»›i nhiá»…u trong hÃ¬nh áº£nh, 
dáº«n Ä‘áº¿n viá»‡c phÃ¡t hiá»‡n sai hoáº·c khÃ´ng chÃ­nh xÃ¡c káº¿t quáº£.
â—
KhÃ´ng thÃ­ch há»£p cho nhiá»u tham sá»‘:
â—‹
Biáº¿n Ä‘á»•i Hough trá»Ÿ nÃªn Ã­t thá»±c táº¿ khi xá»­ lÃ½ nhiá»u hÆ¡n má»™t sá»‘ tham sá»‘ (vÃ­ dá»¥: 
hÃ¬nh dáº¡ng cÃ³ sá»‘ chiá»u cao) vÃ¬ kÃ­ch thÆ°á»›c lÆ°á»›i yÃªu cáº§u cho khÃ´ng gian tham 
sá»‘ tÄƒng theo cáº¥p sá»‘ nhÃ¢n, dáº«n Ä‘áº¿n phá»©c táº¡p tÃ­nh toÃ¡n.
á»¨ng dá»¥ng phá»• biáº¿n:
â—
ÄÆ°á»ng tháº³ng, Ä‘Æ°á»ng trÃ²n, eclipseâ€¦
â—
Nháº­n diá»‡n má»™t sá»‘ Ä‘á»‘i tÆ°á»£ng trong hÃ¬nh áº£nh
â—
Nháº­n dáº¡ng loáº¡i Ä‘á»‘i tÆ°á»£ng
55
Biá»ƒu diá»…n Ä‘Æ°á»ng bao
â—†Quy táº¯c Encode cÃ¡c hÆ°á»›ng
PhÃ¡t hiá»‡n gÃ³c
â€¢
NgoÃ i cÃ¡c biÃªn thÃ¬ corners (gÃ³c) vÃ  interest point (Ä‘iá»ƒm quan tÃ¢m) 
cÅ©ng cáº§n Ä‘Æ°á»£c quan tÃ¢m
â€¢
Má»™t trong nhá»¯ng thuáº­t toÃ¡n máº¡nh máº½ trong viá»‡c tÃ¬m kiáº¿m cÃ¡c 
corners cÅ©ng nhÆ° cÃ¡c image features nháº±m phá»¥c vá»¥ cho cÃ¡c bÃ i 
toÃ¡n nhÆ° image matching, image stitching for panorama,... lÃ  thuáº­t 
toÃ¡n cá»§a Harris (Harris corner detector - HCD)
â€¢
ÄÆ°á»£c phÃ¡t triá»ƒn láº§n Ä‘áº§u vÃ o nÄƒm 1988, Chris Harris and Mike 
Stephens dá»±a vÃ o sá»± biáº¿n Ä‘á»•i cÆ°á»ng Ä‘á»™ sÃ¡ng táº¡i vÃ¹ng lÃ¢n cáº­n Ä‘á»ƒ 
phÃ¡t hiá»‡n cÃ¡c gÃ³c cáº¡nh
Harris corner detection
â€¢
Thuáº­t toÃ¡n Harris phÃ¡t biá»ƒu: má»™t vÃ¹ng nhá» xung quanh cÃ¡c Ä‘áº·c trÆ°ng 
sáº½ cÃ³ 1 sá»± thay Ä‘á»•i lá»›n vá» cÆ°á»ng Ä‘á»™ sÃ¡ng náº¿u má»™t window dá»‹ch 
chuyá»ƒn 1 Ä‘oáº¡n (u,v) tá»« Ä‘iá»ƒm (x,y) theo báº¥t kÃ¬ hÆ°á»›ng nÃ o.
â€¢
ChÃºng ta cÃ³ cÃ´ng thá»©c tÃ­nh lÆ°á»£ng thay Ä‘á»•i cÆ°á»ng Ä‘á»™ sÃ¡ng khi dá»‹ch 
chuyá»ƒn 1 Ä‘oáº¡n [u, v] nhÆ° sau:
Trong Ä‘Ã³:
W: Cá»­a sá»• w cÃ³ thá»ƒ coi = 1 
Ä‘á»ƒ cho Ä‘Æ¡n giáº£n trong viá»‡c 
tÃ­nh toÃ¡n nhÆ°ng Ä‘á»ƒ chuáº©n 
xÃ¡c hÆ¡n cho káº¿t quáº£ Ä‘áº§u ra 
ta cÃ³ thá»ƒ coi Ä‘Ã¢y nhÆ° má»™t 
máº·t náº¡ Gauss(3x3, 5x5, ...)
I(x, y): CÆ°á»ng Ä‘á»™ sÃ¡ng táº¡i Ä‘iá»ƒm x, y
I(x + u, y + v): CÆ°á»ng Ä‘á»™ sÃ¡ng sau khi dá»‹ch chuyá»ƒn cá»­
sá»• Ä‘áº¿n Ä‘iá»ƒm (x + u, y + v)
Harris corner detection
â€¢
á» Ä‘Ã¢y ta sáº½ Ã¡p dá»¥ng biáº¿n Ä‘á»•i Taylor Ä‘á»ƒ rÃºt gá»n láº¡i biá»ƒu thá»©c, ta cÃ³:
â€¢
f(x + u, y + v) â‰ˆ f(x, y) + ufx(x, y) + vfy(x, y)
â€¢
Suy ra
Harris corner detection
â€¢
Äáº¿n Ä‘Ã¢y ta coi
â€¢
NhÆ° váº­y cuá»‘i cÃ¹ng ta cÃ³ sá»± thay Ä‘á»•i cÆ°á»ng Ä‘á»™ sÃ¡ng:
â€¢
NhÆ° váº­y cuá»‘i cÃ¹ng ta cÃ³ sá»± thay Ä‘á»•i cÆ°á»ng Ä‘á»™ sÃ¡ng:
â—
Trong Ä‘Ã³: det(M) = AB - C^2 = Î»1Î»2, trace(M) = Î»1 + Î»2, Î»1, Î»2 lÃ  cÃ¡c 
giÃ¡ trá»‹ báº£n Ä‘á»‹a cá»§a M tÆ°Æ¡ng á»©ng vá»›i Ä‘á»™ cong cá»§a hÃ m Ä‘á»‹a phÆ°Æ¡ng 
quyáº¿t Ä‘á»‹nh xem Ä‘iá»ƒm nÃ y cÃ³ pháº£i lÃ  corners hay khÃ´ng.
Harris corner detection
Harris corner detection 
Äáº¡o hÃ m 1 chiá»u 1 
táº­p cÃ¡c Ä‘iá»ƒm (dx, 
dy) ta thu Ä‘Æ°á»£c:
á» Ä‘Ã¢y ta cÃ³ thá»ƒ 
nháº­n ra Ä‘Æ°á»£c sá»± 
khÃ¡c nhau giá»¯a cÃ¡c 
image features theo 
cÃ¡c hÆ°á»›ng Ä‘áº¡o 
hÃ m báº­c 1 vÃ  Ä‘áº¡o 
hÃ m báº­c 2.
Harris corner detection - giáº£i thÃ­ch
VÃ­ dá»¥ minh há»a
GiÃ¡ trá»‹ cornerness score
CÃ¡c Ä‘iá»ƒm local  maximal
CÃ¡c Ä‘iá»ƒm gÃ³c sau NMS
Káº¿t quáº£ cÃ¡c Ä‘iá»ƒm harris corner
Äáº·c Ä‘iá»ƒm cá»§a Harris corner
Äáº·c Ä‘iá»ƒm cá»§a Harris  corner
â€¢ Báº¥t biáº¿n má»™t pháº§n theo cÆ°á»ng Ä‘á»™ Ä‘iá»ƒm áº£nh
Äáº·c Ä‘iá»ƒm cá»§a Harris corner
â€¢ KhÃ´ng báº¥t biáº¿n theo scale (tá»‰ lá»‡)
PhÃ¡t hiá»‡n/ tÃ¬m features
â€¢ Sau khi Ä‘Ã£ tÃ¬m Ä‘Æ°á»£c gÃ³c, cáº¡nh hay cÃ¡c Ä‘iá»ƒm cáº§n quan 
tÃ¢m, Ä‘iá»u tiáº¿p theo cáº§n lÃ m lÃ  biá»ƒu diá»…n nÃ³.
â€¢ Vá»›i bÃ i toÃ¡n ghÃ©p áº£nh, ta cáº§n tÃ¬m nhá»¯ng Ä‘iá»ƒm chung trong 
2 táº¥m áº£nh Ä‘á»ƒ ghÃ©p chÃºng vÃ o
â€¢ Viá»‡c biá»ƒu diá»…n cÃ¡c Ä‘iá»ƒm quan tÃ¢m theo cÃ¡ch Ä‘Æ¡n giáº£n vÃ  
thÃ´ng minh sáº½ giÃºp cÃ¡c mÃ´ hÃ¬nh ghÃ©p áº£nh ráº¥t nhiá»u
â€¢ Má»™t sá»‘ cÃ¡ch biá»ƒu diá»…n/miÃªu táº£ Ä‘iá»ƒm quan tÃ¢m:
â€¢ Sift
â€¢ Hog
â€¢ Suft
â€¢ â€¦
Biá»ƒu diá»…n SIFT (Scale-Invariant Feature Transform)
â€¢
Äiá»ƒm Ä‘áº·c biá»‡t cá»§a SIFT náº±m ngay trong cÃ¡i tÃªn cá»§a nÃ³ 
Scale-Invariant, tá»©c lÃ  nÃ³ sáº½ Ä‘Æ°a ra cÃ¡c káº¿t quáº£ á»•n Ä‘á»‹nh vá»›i nhá»¯ng 
scale cá»§a áº£nh khÃ¡c nhau, bÃªn cáº¡nh Ä‘Ã³ cÅ©ng cÃ³ thá»ƒ nÃ³i giáº£i thuáº­t 
nÃ y cÃ³ tÃ­nh rotation-invariant.
â€¢
Trong bÃ i bÃ¡o khoa há»c "Distinctive Image Features from 
Scale-Invariant Keypoints", SIFT Ä‘Æ°á»£c Ä‘áº·c táº£ rÃµ nÃ©t dÆ°á»›i bá»‘n giai 
Ä‘oáº¡n(stages) chÃ­nh sau:
â–
Scale-space extrema 
detection.
â–
Keypoint localization.
â–
Orientation 
assignment.
â–
Keypoint descriptor.
Biá»ƒu diá»…n SIFT (Scale-Invariant Feature Transform)
Scale-space extrema detection
â€¢
Scale-space filtering Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y. SIFT 
tÃ­nh DoG (Difference of Gaussians) trÃªn tá»«ng pixel báº±ng cÃ¡ch láº¥y 
diff cá»§a Gaussian Blur vá»›i 2 \sigma khÃ¡c nhau
Biá»ƒu diá»…n SIFT (Scale-Invariant Feature Transform)
Keypoint localization
â€¢
Vá»›i má»—i scale, so sÃ¡ng tá»«ng pixel bá»›i 8 lÃ¡ng giá»ng vÃ  9 pixels tÆ°Æ¡ng 
á»©ng cá»§a scale trÃªn vÃ  scale dÆ°á»›i. Tá»« Ä‘Ã³ cÃ³ thá»ƒ tÃ¬m ra cÃ¡c potential 
keypoints dá»±a trÃªn local maxima vÃ  local minima
â€¢
Sau khi Ä‘Ã£ tÃ¬m Ä‘Æ°á»£c potential keypoints cá»§a áº£nh, ta cáº§n lá»c, loáº¡i 
báº£o nhá»¯ng keypoints cÃ³ Ä‘á»™ tÆ°Æ¡ng pháº£n tháº¥p hay nhá»¯ng edge 
keypoints vÃ  giá»¯ láº¡i nhá»¯ng Ä‘iá»ƒm cáº§n thiáº¿t hÆ¡n
â€¢
Sá»­ dá»¥ng ngÆ°á»¡ng
(threshold) Ä‘á»ƒ lá»c
lÃ  má»™t phÆ°Æ¡ng phÃ¡p
khÃ´ng tá»“i.
Biá»ƒu diá»…n SIFT (Scale-Invariant Feature Transform)
 Orientation assignment
â€¢
Má»™t hoáº·c nhiá»u orientation (hÆ°á»›ng) sáº½ Ä‘Æ°á»£c gáº¯n cho tá»«ng vá»‹ trÃ­ 
keypoint dá»±a trÃªn image gradient. CÃ¡c phÃ©p tÃ­nh sau Ä‘Ã³ trÃªn áº£nh sáº½ 
tÆ°Æ¡ng á»©ng vá»›i tá»«ng orientation, scale vÃ  vá»‹ trÃ­ tá»«ng feature.
Biá»ƒu diá»…n SIFT (Scale-Invariant Feature Transform)
 Keypoint descriptor
â€¢
SIFT sáº½ tÃ­nh Keypoint descriptor báº±ng cÃ¡ch láº¥y 16x16 
neighborhood(Ä‘iá»ƒm liá»n ká») cá»§a keypoint Ä‘Ã³, rá»“i chia thÃ nh 16 
sub-blocks vá»›i kÃ­ch thÆ°á»›c 4x4. Vá»›i má»—i sub-block, ta sáº½ táº¡o Ä‘Æ°á»£c 8 
bin oritation (nhÆ° hÃ¬nh dÆ°á»›i). Do Ä‘Ã³ táº¥t cáº£ sáº½ cÃ³ 128 bin giÃ¡ trá»‹ 
tÆ°Æ¡ng á»©ng vá»›i 1 vector biá»ƒu hiá»‡n cho keypoint descriptor.
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
â€¢
HOG lÃ  viáº¿t táº¯t cá»§a Histogram of Oriented 
Gradient - má»™t loáº¡i â€œfeature descriptorâ€. Má»¥c 
Ä‘Ã­ch cá»§a â€œfeature descriptorâ€ lÃ  trá»«u tÆ°á»£ng 
hÃ³a Ä‘á»‘i tÆ°á»£ng báº±ng cÃ¡ch trÃ­ch xuáº¥t ra 
nhá»¯ng Ä‘áº·c trÆ°ng cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ vÃ  bá» Ä‘i 
nhá»¯ng thÃ´ng tin khÃ´ng há»¯u Ã­ch. VÃ¬ váº­y, HOG 
Ä‘Æ°á»£c sá»­ dá»¥ng chá»§ yáº¿u Ä‘á»ƒ mÃ´ táº£ hÃ¬nh dáº¡ng 
vÃ  sá»± xuáº¥t hiá»‡n cá»§a má»™t Ä‘á»‘i tÆ°á»£ng trong 
áº£nh.
â€¢
ThÃ´ng thÆ°á»ng gá»“m 5 bÆ°á»›c:
â€¢
Tiá»n xá»­ lÃ½
â€¢
TÃ­nh gradient
â€¢
TÃ­nh vector Ä‘áº·c trÆ°ng cho tá»«ng cells
â€¢
Chuáº©n hÃ³a
â€¢
TÃ­nh vector Ä‘áº·c trÆ°ng HoG
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
Tiá»n xá»­ lÃ½
â€¢
Trong bÃ i toÃ¡n nÃ y, Ä‘á»ƒ thuáº­n tiá»‡n cho viá»‡c chia Ä‘á»u hÃ¬nh áº£nh thÃ nh 
cÃ¡c khá»‘i, Ã´ vÃ  tÃ­nh toÃ¡n Ä‘áº·c trÆ°ng á»Ÿ cÃ¡c bÆ°á»›c tiáº¿p theo, chÃºng ta 
cáº§n resize kÃ­ch thÆ°á»›c táº¥t cáº£ cÃ¡c hÃ¬nh áº£nh trong táº­p dá»¯ liá»‡u vá» má»™t 
kÃ­ch thÆ°á»›c chung.
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
TÃ­nh Gradient
â€¢
ÄÃ¢y lÃ  bÆ°á»›c Ä‘áº§u tiÃªn, Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng hai phÃ©p nhÃ¢n cháº­p 
áº£nh gá»‘c vá»›i 2 chiá»u, tÆ°Æ¡ng á»©ng vá»›i cÃ¡c toÃ¡n tá»­ láº¥y Ä‘áº¡o hÃ m theo 
hai hÆ°á»›ng Ox vÃ  Oy. Trong Ä‘Ã³, 2 hÆ°á»›ng tÆ°Æ¡ng á»©ng Ä‘Ã³ lÃ :
â—
Sau bÆ°á»›c nÃ y, káº¿t quáº£ thu Ä‘Æ°á»£c sáº½ lÃ :
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
TÃ­nh vector Ä‘áº·c trÆ°ng cho tá»«ng Ã´ (cells)
â€¢
Äá»ƒ tÃ­nh toÃ¡n vector Ä‘áº·c trÆ°ng cho tá»«ng Ã´ (cell), chÃºng ta cáº§n chia 
hÃ¬nh áº£nh thÃ nh cÃ¡c block, má»—i block láº¡i chia Ä‘á»u thÃ nh cÃ¡c cell. Äá»ƒ 
xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c sá»‘ block, chÃºng ta sáº½ sá»­ dá»¥ng cÃ´ng thá»©c sau:
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
TÃ­nh vector Ä‘áº·c trÆ°ng cho tá»«ng Ã´ (cells)
â€¢
Tiáº¿p theo, tiáº¿n hÃ nh tÃ­nh toÃ¡n Ä‘áº·c trÆ°ng HOG táº¡i má»—i cell sá»­ dá»¥ng khÃ´ng 
gian hÆ°á»›ng 9 bin, trÆ°á»ng há»£p â€œunsigned-HOGâ€. HÆ°á»›ng gradient sáº½ cháº¡y 
trong khoáº£ng 0 Ä‘á»™ Ä‘áº¿n 180 Ä‘á»™, trung bÃ¬nh 20 Ä‘á»™ má»—i bin.
â€¢
Táº¡i má»—i cell, xÃ¢y dá»±ng má»™t biá»ƒu Ä‘á»“ cÆ°á»ng Ä‘á»™ gradient báº±ng cÃ¡ch vote cÃ¡c 
pixel vÃ o biá»ƒu Ä‘á»“. Trá»ng sá»‘ vote cá»§a má»—i pixel phá»¥ thuá»™c hÆ°á»›ng vÃ  cÆ°á»ng 
Ä‘á»™ gradient (Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« bÆ°á»›c 2) cá»§a pixel Ä‘Ã³. VÃ­ dá»¥:
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
Chuáº©n hÃ³a khá»‘i (blocks)
â€¢
Äá»ƒ tÄƒng cÆ°á»ng hiá»‡u nÄƒng nháº­n dáº¡ng, cÃ¡c histogram cá»¥c bá»™ sáº½ 
Ä‘Æ°á»£c chuáº©n hÃ³a vá» Ä‘á»™ tÆ°Æ¡ng pháº£n báº±ng cÃ¡ch tÃ­nh má»™t ngÆ°á»¡ng 
cÆ°á»ng Ä‘á»™ trong má»™t khá»‘i vÃ  sá»­ dá»¥ng giÃ¡ trá»‹ Ä‘Ã³ Ä‘á»ƒ chuáº©n hÃ³a 
táº¥t cáº£ cÃ¡c Ã´ trong khá»‘i. Káº¿t quáº£ sau 
bÆ°á»›c chuáº©n hÃ³a sáº½ lÃ  má»™t vector Ä‘áº·c 
trÆ°ng cÃ³ tÃ­nh báº¥t biáº¿n cao hÆ¡n Ä‘á»‘i vá»›i 
cÃ¡c thay Ä‘á»•i vá» Ä‘iá»u kiá»‡n Ã¡nh sÃ¡ng.
â€¢
Äáº§u tiÃªn, hÃ£y xem xÃ©t áº£nh hÆ°á»Ÿng cá»§a 
viá»‡c chuáº©n hÃ³a tá»›i cÃ¡c vector gradient 
trong vÃ­ dá»¥ sau:
Dá»… dÃ ng tháº¥y Ä‘Æ°á»£c, trÆ°á»ng há»£p thá»© 
ba hiá»ƒn thá»‹ Ä‘á»™ tÆ°Æ¡ng pháº£n gia tÄƒng.
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
Chuáº©n hÃ³a khá»‘i (blocks)
â€¢
CÃ³ nhiá»u phÆ°Æ¡ng phÃ¡p cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ chuáº©n hÃ³a khá»‘i. Gá»i v 
lÃ  vector cáº§n chuáº©n hÃ³a chá»©a táº¥t cáº£ cÃ¡c histogram cá»§a má»™i khá»‘i. 
Çv(k)Ç lÃ  giÃ¡ trá»‹ chuáº©n hÃ³a cá»§a v theo cÃ¡c chuáº©n k=1, 3 vÃ  e lÃ  má»™t 
háº±ng sá»‘ nhá». Khi Ä‘Ã³, cÃ¡c giÃ¡ trá»‹ chuáº©n hÃ³a cÃ³ thá»ƒ tÃ­nh báº±ng má»™t 
trong nhá»¯ng cÃ´ng thá»©c sau:
â—
GhÃ©p cÃ¡c vector Ä‘áº·c trÆ°ng khá»‘i sáº½ thu 
Ä‘Æ°á»£c vector Ä‘áº·c trÆ°ng R-HOG cho áº£nh. 
Sá»‘ chiá»u vector Ä‘áº·c trÆ°ng áº£nh tÃ­nh theo 
cÃ´ng thá»©c :
Biá»ƒu diá»…n HOG (Histogram of Oriented Gradients)
TÃ­nh toÃ¡n vector Ä‘áº·c trÆ°ng HOG
â€¢
Vá»›i má»—i hÃ¬nh áº£nh kÃ­ch thÆ°á»›c 64x128, chia 
thÃ nh cÃ¡c block 16x16 chá»“ng nhau, sáº½ cÃ³ 7 
block ngang vÃ  15 block dá»c, nÃªn sáº½ cÃ³ 7x15 
= 105 blocks.
â€¢
Má»—i block gá»“m 4 cell. Khi Ã¡p dá»¥ng biá»ƒu Ä‘á»“ 
9-bin cho má»—i cell, má»—i block sáº½ Ä‘Æ°á»£c Ä‘áº¡i diá»‡n 
bá»Ÿi má»™t vector cÃ³ kÃ­ch thÆ°á»›c 36x1.
â€¢
VÃ¬ váº­y, khi ná»‘i táº¥t cáº£ cÃ¡c vector trong má»™t 
block láº¡i vá»›i nhau, ta sáº½ thu Ä‘Æ°á»£c vector Ä‘áº·c 
trÆ°ng HOG cá»§a áº£nh cÃ³ kÃ­ch thÆ°á»›c 105x36x1 
= 3780x1.
á»¨ng dá»¥ng: ghÃ©p áº£nh
Quy trÃ¬nh:
â€¢
B1: tÃ¬m feature points á»Ÿ cáº£ 2 hÃ¬nh
Sáº£n pháº©m: ghÃ©p áº£nh
Quy trÃ¬nh:
â€¢
B1: tÃ¬m feature points á»Ÿ cáº£ 2 hÃ¬nh
â€¢
B2: TÃ¬m cÃ¡c cáº·p giá»‘ng nhau
Sáº£n pháº©m: ghÃ©p áº£nh
Quy trÃ¬nh:
â€¢
B1: tÃ¬m feature points á»Ÿ cáº£ 2 hÃ¬nh
â€¢
B2: TÃ¬m cÃ¡c cáº·p giá»‘ng nhau
â€¢
B3: Tá»« cÃ¡c cáº·p Ä‘Ã³, Ä‘áº·t khá»›p 2 hÃ¬nh áº£nh
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
TÃ¬m cÃ¡c key points
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
TÃ¬m cÃ¡c key 
points
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
XÃ¢y dá»±ng biá»ƒu diá»…n SIFT
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
XÃ¢y dá»±ng biá»ƒu diá»…n SIFT
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
So sÃ¡nh vÃ  tÃ¬m cáº·p Ä‘iá»ƒm
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
So sÃ¡nh vÃ  tÃ¬m cáº·p Ä‘iá»ƒm
â—‹
CÃ³ thá»ƒ sá»­ dá»¥ng khoáº£ng cÃ¡ch Euclid vÃ¬ cÃ¡c descriptors 
chá»‰ lÃ  vector
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
TÃ¬m cÃ¡c tham sá»‘ biáº¿n Ä‘á»•i phÃ¹ há»£p
CÃ¡c bÆ°á»›c xá»­ lÃ½ chi tiáº¿t
â—
TÃ¬m cÃ¡c tham sá»‘ biáº¿n Ä‘á»•i phÃ¹ há»£p
â—‹
Biáº¿n Ä‘á»•i 2D: affine transformation
Káº¿t quáº£
Káº¿t quáº£
-
CÃ¡c kÄ© thuáº­t trÃ­ch xuáº¥t Ä‘áº·c trÆ°ng áº£nh: biÃªn, gÃ³c, â€¦
-
CÃ¡c á»©ng dá»¥ng cá»§a viá»‡c trÃ­ch xuáº¥t Ä‘áº·c trÆ°ng áº£nh
Tá»•ng káº¿t buá»•i há»c
